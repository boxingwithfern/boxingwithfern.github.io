<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Create Event - EventClone</title>
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />

  <style>
    .cart-icon {
      position: relative;
    }
    .cart-badge {
      position: absolute;
      top: -8px;
      right: -8px;
      background-color: red;
      color: white;
      border-radius: 50%;
      font-size: 0.75rem;
      padding: 2px 6px;
    }
  </style>

</head>
<body>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-light bg-light shadow-sm">
    <div class="container">
      <a class="navbar-brand fw-bold" href="#">Sport Events</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
        data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item"><a class="nav-link" href="index.html">Browse Events</a></li>
          <li class="nav-item"><a class="nav-link" href="#">Create Event</a></li>
<!--
          <li class="nav-item me-3">
            <a class="nav-link position-relative cart-icon" href="#" onclick="navigateTo('third')">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                   fill="currentColor" class="bi bi-cart" viewBox="0 0 16 16">
                <path d="M0 1.5A.5.5 0 0 1 .5 1h1a.5.5 0 0 1 
                         .485.379L2.89 5H14.5a.5.5 0 0 1 
                         .49.598l-1.5 7A.5.5 0 0 1 13 
                         13H4a.5.5 0 0 1-.49-.402L1.61 
                         2H.5a.5.5 0 0 1-.5-.5zM3.14 
                         6l1.25 5h8.223l1.25-5H3.14zM5.5 
                         14a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm5 
                         0a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"/>
              </svg>
              <span class="cart-badge" id="cartItemCount">0</span>
            </a>
          </li>  
-->                             
          <li class="nav-item"><a class="nav-link" href="login.html">Login In</a></li>
          <li class="nav-item"><a class="nav-link" href="signup.html">Sign Up</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <div class="container py-5">


    <ul class="nav nav-tabs" id="myTab" role="tablist">
      <li class="nav-item" role="presentation">
        <button class="nav-link active" id="home-tab" data-bs-toggle="tab" data-bs-target="#home-tab-pane" type="button" role="tab" aria-controls="home-tab-pane" aria-selected="true">Events</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="profile-tab" data-bs-toggle="tab" data-bs-target="#profile-tab-pane" type="button" role="tab" aria-controls="profile-tab-pane" aria-selected="false">Tickets</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="contact-tab" data-bs-toggle="tab" data-bs-target="#contact-tab-pane" type="button" role="tab" aria-controls="contact-tab-pane" aria-selected="false">Orders</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="disabled-tab" data-bs-toggle="tab" data-bs-target="#disabled-tab-pane" type="button" role="tab" aria-controls="disabled-tab-pane" aria-selected="false" disabled>Disabled</button>
      </li>
    </ul>
    <div class="tab-content" id="myTabContent">
      <div class="tab-pane fade show active" id="home-tab-pane" role="tabpanel" aria-labelledby="home-tab" tabindex="0">
        <br/>
        <h2 class="mb-4">Events</h2>
        <table class="table table-hover">
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">Title</th>
              <!--<th scope="col">Description</th>-->
              <th scope="col">Date</th>
              <th scope="col">Time</th>
              <th scope="col">Location</th>
              <th scope="col">Price</th>
              <th scope="col">Available Tickets</th>      
              <th scope="col">Image</th>         
            </tr>
          </thead>
          <tbody id="eventTables">


          </tbody>
        </table>        

      </div>
      <div class="tab-pane fade" id="profile-tab-pane" role="tabpanel" aria-labelledby="profile-tab" tabindex="0">
        <br/>
        <h2 class="mb-4">Tickets</h2>
        <table class="table table-hover">
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">Title</th>
              <!--<th scope="col">Description</th>-->
              <th scope="col">Date</th>
              <th scope="col">Time</th>
              <th scope="col">Location</th>
              <th scope="col">Price</th>
              <th scope="col">Available Tickets</th>      
              <th scope="col">Image</th>         
            </tr>
          </thead>
          <tbody id="eventTickets">


          </tbody>
        </table>        

      </div>
      <div class="tab-pane fade" id="contact-tab-pane" role="tabpanel" aria-labelledby="contact-tab" tabindex="0">

        <h2 class="mb-4">Orders</h2>
        <table class="table table-hover">
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">Title</th>
              <!--<th scope="col">Description</th>-->
              <th scope="col">Date</th>
              <th scope="col">Time</th>
              <th scope="col">Location</th>
              <th scope="col">Price</th>
              <th scope="col">Available Tickets</th>      
              <th scope="col">Image</th>         
            </tr>
          </thead>
          <tbody id="eventOrders">


          </tbody>
        </table>        

      </div>
      <div class="tab-pane fade" id="disabled-tab-pane" role="tabpanel" aria-labelledby="disabled-tab" tabindex="0">

      </div>
    </div>    


  </div>


  <footer class="bg-light text-center py-4 mt-5 border-top">
    <div class="container">
      <p class="mb-0">&copy; 2025 Boxing with Fern. All rights reserved.</p>
    </div>
  </footer>  

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script type="module">


/*
        const form = document.getElementById('eventForm'); //document.querySelector('form');
        //const thankYouMessage = document.querySelector('#thank-you-message');
        form.addEventListener('submit', (e) => {
          e.preventDefault();
          //thankYouMessage.classList.add('show');
          //window.navigateTo("sixth");
          //alert("tough!");
        const eventTitle = document.getElementById('eventTitle').value;
        const eventDescription = document.getElementById('eventDescription').value;
        const startDate = document.getElementById('startDate').value;   

        const endDate = document.getElementById('endDate').value;
        const location = document.getElementById('location').value;
        const ticketType = document.getElementById('ticketType').value;    

        const ticketPrice = document.getElementById('ticketPrice').value;
        const eventImage = document.getElementById('eventImage').value;
        const eventCategory = document.getElementById('eventCategory').value; 

        localStorage.setItem("eventTitle", eventTitle);
        localStorage.setItem("eventDescription", eventDescription);
        localStorage.setItem("startDate", startDate);

        localStorage.setItem("endDate", endDate);
        localStorage.setItem("location", location);
        localStorage.setItem("ticketType", ticketType);

        localStorage.setItem("ticketPrice", ticketPrice);
        localStorage.setItem("eventImage", eventImage);
        localStorage.setItem("eventCategory", eventCategory);

            var collectionString = localStorage.getItem('events');
            var collection = JSON.parse(collectionString);  
            
            alert(collection.length);

            const sampleEvent = {
                id: 100 + collection.length,
                title: eventTitle,
                description: eventDescription,
                date: "2025-09-15",
                time: "09:00 AM",
                location: "Medway",
                price: 199.99,
                availableTickets: 500,
                imageUrl: "slide_v4.png"
            };
            
  
            collection.push(sampleEvent); 
            
            localStorage.setItem('events', JSON.stringify(collection));

          console.log(
            "eventTitle: - " + localStorage.getItem("eventTitle") + 
            "\n eventDescription: - " + localStorage.getItem("eventDescription") + 
            "\n startDate: - " + localStorage.getItem("startDate") +
            "\n endDate: - " + localStorage.getItem("endDate") +
            "\n location: - " + localStorage.getItem("location") +
            "\n ticketType: - " + localStorage.getItem("ticketType") +
            "\n ticketPrice: - " + localStorage.getItem("ticketPrice") +
            "\n eventImage: - " + localStorage.getItem("eventImage") +
            "\n eventCategory: - " + localStorage.getItem("eventCategory")
          );
          form.submit();
          
        });         
*/

        window.onload = async function() {

          const eventTitle = localStorage.getItem("eventTitle");
          const eventDescription = localStorage.getItem("eventDescription");
          const startDate = localStorage.getItem("startDate");
          const endDate = localStorage.getItem("endDate");
          const location = localStorage.getItem("location");
          const ticketType = localStorage.getItem("ticketType");
          const ticketPrice = localStorage.getItem("ticketPrice");
          const eventImage = localStorage.getItem("eventImage");
          const eventCategory = localStorage.getItem("eventCategory");
          const eventTable = document.getElementById('eventTables');//localStorage.getItem("eventTable");

          console.log(
            "eventTitle: - " + eventTitle + 
            "\n eventDescription: - " + eventDescription + 
            "\n startDate: - " + startDate +
            "\n endDate: - " + endDate +
            "\n location: - " + location +
            "\n ticketType: - " + ticketType +
            "\n ticketPrice: - " + ticketPrice +
            "\n eventImage: - " + eventImage +
            "\n eventCategory: - " + eventCategory
          );    
          
            var collectionString = localStorage.getItem('events');
            var collection = JSON.parse(collectionString);    
            
            eventTable.innerHTML = ''; 

           
            collection.forEach(event => {

                const eventCard = `
                  <tr style="cursor:pointer;">
                    <th scope="row">${event.id}</th>
                    <td>${event.title}</td>
                    <!--<td>The UK's biggest Comic Con returns to the Olympia London bringing you your favourite celebrities from TV & Film.</td>-->
                    <td>${new Date(event.date).toLocaleDateString()}</td>
                    <td>${event.time}</td>
                    <td>${event.location}</td>
                    <td>${event.price}</td>             
                    <td>${event.availableTickets}</td>  
                    <td><img src="${event.imageUrl}" width="40px" height="20px"></td> 
                  </tr>
                `;
                eventTable.insertAdjacentHTML('beforeend', eventCard);                          

                console.log("all events: - " + event.title);


            });     
          

          //alert("enter!");
/*          

            updateCartIconCount();
            addSampleEvent();
            addSampleEvent();
            addSampleEvent();
            addSampleEvent();
            
            //fetchAndRenderEvents();
            //fetchUserCart();
            window.navigateTo('eventList'); // Navigate to the event list on initial load

            getTable("events").then(aiResponse => {
                alert(aiResponse);
                console.log(aiResponse);
            }).catch(error => {
                console.error('Error:', error);
                alert('Sorry, something went wrong.');
            });
*/            
        };    

  </script>
</body>
</html>
